<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Can I Fail</title>
<script>
	function tmp(){
		var tmp = document.getElementById("message").value;
		var desiredGrade = parseFloat(document.getElementById("grade").value);
		alert(desiredGrade);
		tmp = tmp.trim();
		console.log(tmp);
		var array = [];
		var count = 0;
		var finalPercentage = 0;
		var total = 0;
		var needed = 0;
		while(tmp.indexOf("%") > 0){
			array[count] = parseFloat(tmp.substring(tmp.indexOf("%") - 5, tmp.indexOf("%")));
			tmp = tmp.substring(tmp.indexOf("%") + 1, tmp.length).trim();
			console.log(array[count]);
			count++;
			array[count] = parseFloat(tmp.substring(tmp.indexOf("%") - 6, tmp.indexOf("%")).trim());
			tmp = tmp.substring(tmp.indexOf("%") + 1, tmp.length).trim();
			console.log(array[count]);
			count++;
		}
		for(var i = 0; array.length > i ; i += 2){
			finalPercentage += array[i];
		}
		finalPercentage = 100 - finalPercentage;
		for(var i = 0; array.length > i ; i += 2){
			total += (array[i] * .01) * array[i + 1];
		}
		needed = (desiredGrade - total)/(finalPercentage * .01);
		needed = .01 * Math.round(needed * 100);
		alert("You need about a " + needed + "% on your final.");
	}
</script>
</head>

<body style="background-color: black; color: white">
	<header>
    	<h1 style="text-align:center">Can I Fail</h1>
    </header>
	<div style="margin: 10vh 30vw">
    	<label for="grade">Grade Desired (Only the Number):</label>
        <br>
        <input type="text" id="grade" name="grade">
        <br>
    	<label for="message">Input Grades:</label>
    	<input style="width:40vw; height: 40vh" id="message" name="message">
        <br>
        <input type="submit" style="margin:0 17vw; width: 6vw" onClick="tmp()">
    </div>
    <p style="text-align:center">***Warning it may be slightly off due to rounding the percentages***</p>
</body>
</html>
